USE [NEOE]
GO

/****** Object:  StoredProcedure [NEOE].[SP_CZ_SA_LOG_PLAN_MNG_REV_S]    Script Date: 2016-02-12 오후 1:40:06 ******/
SET ANSI_NULLS ON
GO

SET QUOTED_IDENTIFIER ON
GO

ALTER PROCEDURE [NEOE].[SP_CZ_SA_LOG_PLAN_MNG_REV_S]  
(
    @P_CD_COMPANY       NVARCHAR(7),
    @P_DT_FROM          NVARCHAR(8),
    @P_DT_TO            NVARCHAR(8)
)
AS

SET TRANSACTION ISOLATION LEVEL READ UNCOMMITTED

SELECT RV.NO_REV,
       RV.DT_WORK,
       RV.DC_RMK,
       ROW_NUMBER() OVER(ORDER BY RV.NO_REV DESC) AS IDX
FROM CZ_SA_LOG_PLAN_REV RV
WHERE RV.CD_COMPANY = @P_CD_COMPANY
AND (ISNULL(RV.DT_WORK, '') = '' OR RV.DT_WORK BETWEEN @P_DT_FROM AND @P_DT_TO)
ORDER BY RV.NO_REV DESC

GO