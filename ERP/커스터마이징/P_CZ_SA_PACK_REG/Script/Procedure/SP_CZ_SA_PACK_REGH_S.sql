USE [NEOE]
GO

/****** Object:  StoredProcedure [NEOE].[SP_CZ_SA_PACK_REGH_S]    Script Date: 2015-09-14 오후 1:53:33 ******/
SET ANSI_NULLS ON
GO

SET QUOTED_IDENTIFIER ON
GO




ALTER PROCEDURE [NEOE].[SP_CZ_SA_PACK_REGH_S]
(
	@P_CD_COMPANY			NVARCHAR(7),
	@P_LANGUAGE				NVARCHAR(5) = 'KR',
	@P_NO_GIR				NVARCHAR(20)
)
AS

SET TRANSACTION ISOLATION LEVEL READ UNCOMMITTED

SELECT PH.NO_PACK,
	   PH.NM_PACK,
	   PH.DT_PACK,
	   PH.CD_TYPE,
	   (SELECT (CASE @P_LANGUAGE WHEN 'KR' THEN NM_SYSDEF
								 WHEN 'US' THEN NM_SYSDEF_E
								 WHEN 'JP' THEN NM_SYSDEF_JP
								 WHEN 'CH' THEN NM_SYSDEF_CH END)
		FROM MA_CODEDTL
		WHERE CD_COMPANY = PH.CD_COMPANY
		AND CD_FIELD = 'CZ_SA00026'
		AND CD_SYSDEF = PH.CD_TYPE) AS NM_TYPE,
	   PH.CD_SIZE,
	   (SELECT (CASE @P_LANGUAGE WHEN 'KR' THEN NM_SYSDEF
								 WHEN 'US' THEN NM_SYSDEF_E
								 WHEN 'JP' THEN NM_SYSDEF_JP
								 WHEN 'CH' THEN NM_SYSDEF_CH END)
		FROM MA_CODEDTL
		WHERE CD_COMPANY = PH.CD_COMPANY
		AND CD_FIELD = MC.CD_FLAG1
		AND CD_SYSDEF = PH.CD_SIZE) AS NM_SIZE,
	   PH.QT_NET_WEIGHT,
	   PH.QT_GROSS_WEIGHT,
	   PH.QT_WIDTH,
	   PH.QT_LENGTH,
	   PH.QT_HEIGHT,
	   PH.DC_RMK,
	   PH.YN_OUTSOURCING
FROM CZ_SA_PACKH PH
LEFT JOIN MA_CODEDTL MC ON MC.CD_COMPANY = PH.CD_COMPANY AND MC.CD_FIELD = 'CZ_SA00026' AND MC.CD_SYSDEF = PH.CD_TYPE
WHERE PH.CD_COMPANY = @P_CD_COMPANY
AND PH.NO_GIR = @P_NO_GIR

GO

