USE [NEOE]
GO

/****** Object:  StoredProcedure [NEOE].[SP_CZ_FI_CARD_VERIFYL_02_S]    Script Date: 2016-12-28 오후 3:03:19 ******/
SET ANSI_NULLS ON
GO

SET QUOTED_IDENTIFIER ON
GO

ALTER PROCEDURE [NEOE].[SP_CZ_FI_CARD_VERIFYL_02_S]
(
	@P_CD_COMPANY	NVARCHAR(7),
	@P_ACCT_NO		NVARCHAR(20),
	@P_ADMIN_NO		NVARCHAR(20),
	@P_NO_DOCU		NVARCHAR(20)
)
AS  

SET TRANSACTION ISOLATION LEVEL READ UNCOMMITTED

SELECT CT.ACCT_NO,
	   CT.ADMIN_NO,
	   FD.NO_DOCU,
       FD.NO_DOLINE,
	   FD.CD_ACCT,
	   AC.NM_ACCT,
	   FD.NM_NOTE,
	   FD.AM_DR,
	   FD.AM_CR
FROM CARD_TEMP CT
JOIN FI_DOCU FD ON FD.CD_COMPANY = CT.C_CODE AND FD.NO_DOCU = CT.NO_DOCU 
LEFT JOIN FI_ACCTCODE AC ON AC.CD_COMPANY = FD.CD_COMPANY AND AC.CD_ACCT = FD.CD_ACCT
WHERE CT.C_CODE = @P_CD_COMPANY
AND CT.ACCT_NO = @P_ACCT_NO
AND CT.ADMIN_NO = @P_ADMIN_NO
AND FD.NO_DOCU = @P_NO_DOCU
ORDER BY FD.NO_DOLINE

GO