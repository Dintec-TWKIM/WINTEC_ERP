USE [NEOE]
GO

/****** Object:  StoredProcedure [NEOE].[SP_CZ_PR_MARKING_REG_SUB_S]    Script Date: 2017-01-05 오후 5:48:55 ******/
SET ANSI_NULLS ON
GO

SET QUOTED_IDENTIFIER ON
GO

ALTER PROCEDURE [NEOE].[SP_CZ_PR_MARKING_REG_SUB_S]          
(
	@P_CD_COMPANY		NVARCHAR(7),
	@P_CD_ITEM			NVARCHAR(20),
	@P_CD_PARTNER		NVARCHAR(20)
)
AS
   
SET TRANSACTION ISOLATION LEVEL READ UNCOMMITTED

SELECT MS.CD_ITEM,
       MI.NM_ITEM,
	   MS.CD_PARTNER,
	   MP.LN_PARTNER,
	   MS.YN_CERT
FROM CZ_PR_MARKING_SETTING MS
LEFT JOIN MA_PITEM MI ON MI.CD_COMPANY = MS.CD_COMPANY AND MI.CD_ITEM = MS.CD_ITEM
LEFT JOIN MA_PARTNER MP ON MP.CD_COMPANY = MS.CD_COMPANY AND MP.CD_PARTNER = MS.CD_PARTNER
WHERE MS.CD_COMPANY = @P_CD_COMPANY
AND (ISNULL(@P_CD_ITEM, '') = '' OR MS.CD_ITEM = @P_CD_ITEM)
AND (ISNULL(@P_CD_PARTNER, '') = '' OR MS.CD_PARTNER = @P_CD_PARTNER)

GO