USE [NEOE]
GO

/****** Object:  StoredProcedure [NEOE].[UP_CZ_PR_OPOUT_WORK_MNG_U]    Script Date: 2022-05-26 오후 2:45:44 ******/
SET ANSI_NULLS ON
GO

SET QUOTED_IDENTIFIER ON
GO


ALTER PROC [NEOE].[UP_CZ_PR_OPOUT_WORK_MNG_U]
(
	@P_CD_COMPANY		NVARCHAR(7),
	@P_CD_PLANT			NVARCHAR(7),
	@P_NO_WORK			NVARCHAR(20),
	@P_DC_RMK1			NVARCHAR(100),
	@P_DC_RMK2			NVARCHAR(100),
	@P_DC_RMK3			NVARCHAR(100),
	@P_ID_UPDATE		NVARCHAR(15)
)
AS
                
DECLARE 
	@ERRMSG				NVARCHAR(255),
	@P_DTS_UPDATE		NVARCHAR(16)

SET	@P_DTS_UPDATE = NEOE.SF_SYSDATE(GETDATE())

UPDATE	PR_WORK
SET		DC_RMK1 = @P_DC_RMK1,
		DC_RMK2 = @P_DC_RMK2,
		DC_RMK3 = @P_DC_RMK3,
		ID_UPDATE = @P_ID_UPDATE,
		DTS_UPDATE = @P_DTS_UPDATE
WHERE	CD_COMPANY = @P_CD_COMPANY
AND		CD_PLANT = @P_CD_PLANT
AND		NO_WORK = @P_NO_WORK

IF (@@ERROR <> 0)
BEGIN
	SELECT @ERRMSG = '[UP_CZ_PR_OPOUT_WORK_MNG_U]PR_WORK TABLE UPDATE ERROR.'
	GOTO ERROR
END

RETURN
ERROR: RAISERROR (@ERRMSG, 18, 1)
GO


