USE [NEOE]
GO

/****** Object:  StoredProcedure [NEOE].[UP_SA_SOH_SUB_U]    Script Date: 2019-11-04 오전 10:36:44 ******/
SET ANSI_NULLS ON
GO

SET QUOTED_IDENTIFIER ON
GO

ALTER PROCEDURE [NEOE].[UP_SA_SOH_SUB_U]
(
	@P_CD_COMPANY  	NVARCHAR(7),
	@P_NO_SO  	    NVARCHAR(20),
	@P_DT_PROCESS  	NVARCHAR(8),
	@P_DT_RCP_RSV  	NVARCHAR(8),
	@P_FG_AR_EXC  	NVARCHAR(3),
	@P_AM_IV  	    NUMERIC(17,4),
	@P_AM_IV_EX  	NUMERIC(17,4),
	@P_AM_IV_VAT  	NUMERIC(17,4),
	@P_NM_PTR		NVARCHAR(20),
	@P_EX_EMIL		NVARCHAR(100),
	@P_EX_HP		NVARCHAR(15),
	@P_ID_UPDATE  	NVARCHAR(15),
	@P_DC_RMK_IVH   NVARCHAR(100) = NULL
)
AS

SET NOCOUNT ON

DECLARE @P_DTS_UPDATE VARCHAR(14)
    SET @P_DTS_UPDATE = REPLACE(REPLACE(REPLACE(CONVERT(VARCHAR(20), GETDATE(), 120), '-',''), ' ', ''),':','')

UPDATE SA_SOH_SUB 
SET 
	   DT_PROCESS   = @P_DT_PROCESS,		
	   DT_RCP_RSV   = @P_DT_RCP_RSV,		
	   FG_AR_EXC   	= @P_FG_AR_EXC,	
	   AM_IV   	    = @P_AM_IV,	
	   AM_IV_EX     = @P_AM_IV_EX,	
	   AM_IV_VAT   	= @P_AM_IV_VAT,
	   NM_PTR		= @P_NM_PTR,
	   EX_EMIL		= @P_EX_EMIL,
	   EX_HP		= @P_EX_HP,	
	   ID_UPDATE   	= @P_ID_UPDATE,	
	   DTS_UPDATE   = @P_DTS_UPDATE,
	   DC_RMK       = @P_DC_RMK_IVH

WHERE  CD_COMPANY   = @P_CD_COMPANY   	
AND    NO_SO   	    = @P_NO_SO
GO

